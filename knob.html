<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>HTML5 &lt;x-knob&gt; rotating knob web component</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- Stylesheets -->
  <link href="css/xknob.css" type="text/css" rel="stylesheet">
  <link href="css/site.css" type="text/css" rel="stylesheet">



    <!-- All the images go in the header -->
    <svg style="display: none;"> <!-- Keeps Page from having crazy padding at the top for some reason-->
      <!-- the knobs -->
    <defs id="sample_gfx">
        <!-- Power Button -->
      <symbol id="long-stick" viewBox="-6 -6 12 12"> 
        <circle cx="0" cy="0" r="2.5" stroke="#2e3436" fill="#888a85" stroke-width="0.25" />
        <rect x="-1" y="-5" rx="1" ry="1" width="2" height="10" stroke="#2e3436" fill="#babdb6" stroke-width="0.25" />
        <line x1="0" y1="-3.75" x2="0" y2="-4.5" stroke="#2e3436" stroke-width="0.5px" stroke-linecap="round" />
      </symbol>
    </defs>

        <!-- sample background for the knobs -->
    <defs id="sample_bg">
        <!-- Might be useful to have  -->
      <symbol id="bg-radial-lines-2" viewBox="-1 -1 2 2">
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(  0)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(180)" />
      </symbol>
      <symbol id="bg-radial-lines-3" viewBox="-1 -1 2 2">
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(  0)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(120)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(240)" />
      </symbol>
      <symbol id="bg-radial-lines-4" viewBox="-1 -1 2 2">
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(  0)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate( 90)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(180)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(270)" />
      </symbol>
      <symbol id="bg-radial-lines-5" viewBox="-1 -1 2 2">
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(  0)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate( 72)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(144)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(216)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(288)" />
      </symbol>
      <symbol id="bg-radial-lines-6" viewBox="-1 -1 2 2">
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(  0)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate( 60)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(120)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(180)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(240)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(300)" />
      </symbol>
      <symbol id="bg-radial-lines-8" viewBox="-1 -1 2 2">
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(  0)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate( 45)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate( 90)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(135)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(180)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(225)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(270)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(315)" />
      </symbol>
      <symbol id="bg-radial-lines-12" viewBox="-1 -1 2 2">
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(  0)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate( 30)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate( 60)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate( 90)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(120)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(150)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(180)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(210)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(240)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(270)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(300)" />
        <line x1="0" y1="0" x2="0" y2="-1" stroke="#2e3436" stroke-width="0.0078125px" transform="rotate(330)" />
      </symbol>
    </defs>
  </svg>

</head>

<body>

  <h1><code>&lt;x-knob&gt;</code> Web Component</h1>

  <p><a href="https://github.com/denilsonsa/html5-knob">View this project on GitHub!</a></p>


  <h2>Playaround demo</h2>

  <p>A demo with a single <code>&lt;x-knob&gt;</code> element with all attributes exposed. It's easy to get a feel on
    how it works by just interacting with this demo.</p>

  <!-- I'm sorry I'm using a table for layout. But my intent is to demonstrate the knob, not the table. -->
  <table id="bigdemo">
    <tr>
      <td rowspan="9" id="big_container">

        <!-- This ensures the background shows up. -->
        <svg id="big_bg" viewBox="0 0 1 1"></svg>

        <!-- This is the main Knob element!!! -->
        <x-knob id="big"></x-knob>

      </td>
      <th><label for="bigdivisions"><code>divisions</code></label></th>
      <td><input type="number" id="bigdivisions" min="0" step="1" value="0"
          title="Accepts integers starting from 2. Any other value is ignored."></td>
    </tr>
    <tr>
      <th><label for="bigmin"><code>min</code></label></th>
      <td><input type="number" id="bigmin" step="any" value="" title="Any float, or null/empty for not having a limit.">
      </td>
    </tr>
    <tr>
      <th><label for="bigmax"><code>max</code></label></th>
      <td><input type="number" id="bigmax" step="any" value="" title="Any float, or null/empty for not having a limit.">
      </td>
    </tr>
    <tr>
      <th></th>
      <td><label><input type="checkbox" id="bigdisabled"> <code>disabled</code></td>
    </tr>
    <tr>
      <th></th>
      <td><label><input type="checkbox" id="bigreadonly"> <code>readonly</code></td>
    </tr>
    <tr>
      <th><label for="bigsvgsymbolid"><code>svgsymbolid</code></label></th>
      <td><select id="bigsvgsymbolid">
          <option value="" selected>&lt;empty&gt;</option>
        </select>
      </td>
    </tr>

    <tr>
      <th><label for="bigbackground">background</label></th>
      <td><select id="bigbackground">
          <option value="" selected>none</option>
        </select>
      </td>
    </tr>

    <tr>
      <th></th>
      <td><label><input type="checkbox" id="bigpadding"> Add padding</td>
    </tr>
    <tr>
      <th><label for="bigvalue"><code>value</code></label></th>
      <td><input type="number" id="bigvalue" step="any" value=""></td>
    </tr>
  </table>

  <h2>Misc. demos</h2>

  <p>Several small demonstrations trying to showcase specific features or behaviors.</p>

  <p id="simple">
    <x-knob></x-knob> Simplest markup "just works" with some reasonable defaults. It only requires importing
    <code>xknob.js</code> and <code>xknob.css</code>.
  </p>

  <p id="sizes">
    <x-knob></x-knob>
    <x-knob></x-knob>
    <x-knob></x-knob>
    <x-knob></x-knob>
    <x-knob></x-knob> SVG graphics adapting to any size. Also means the click region is precisely the graphic itself,
    and nothing else.
  </p>

  <p id="disabledreadonly">
    <x-knob disabled></x-knob>
    <x-knob readonly></x-knob>
    <x-knob disabled readonly></x-knob> Attributes <code>disabled</code> and <code>readonly</code> are available, but
    don't change the look.
  </p>

  <p id="gfx">
    <x-knob svgsymbolid="circle-with-dot"></x-knob>
    <x-knob svgsymbolid="long-stick"></x-knob>
    <x-knob svgsymbolid="arrow"></x-knob> A custom SVG graphic can be selected by passing an <code>id</code> of an SVG
    <code>&lt;symbol&gt;</code> available from within the same document. The symbol will be (deep-)copied into the
    shadow DOM of the <code>x-knob</code> element. Symbols from external files are not supported.
  </p>

  <p id="events">
    <x-knob id="eventsdemo"></x-knob> Supports <code>input</code> event (value = <output id="oninputvalue"></output>)
    and <code>change</code> event (value = <output id="onchangevalue"></output>). The <code>change</code> event is
    triggered if the value has changed after the mouse button is released, after the touch has ended, or after a
    keyboard press. The <code>input</code> event is triggered immediately.
  </p>

  <p id="bubbling">
    <x-knob data-name="first knob"></x-knob>
    <x-knob data-name="second knob"></x-knob> The events bubble correctly: <output id="bubblingoutput"></output>
  </p>

  <p id="snap">
    <x-knob divisions="2"></x-knob>
    <x-knob divisions="3"></x-knob>
    <x-knob divisions="4"></x-knob>
    <x-knob divisions="8"></x-knob>
    <x-knob divisions="16"></x-knob> Optionally snaps the knob to discrete rotations. <output id="snapoutput"></output>
  </p>

  <p id="transition">
    <x-knob divisions="2"></x-knob>
    <x-knob divisions="3"></x-knob>
    <x-knob divisions="4"></x-knob>
    <x-knob divisions="8"></x-knob>
    <x-knob divisions="16"></x-knob> CSS transitions work fine together with discrete rotations, but don't look good on
    a continuous (analog) knob. <x-knob></x-knob>
  </p>

  <p id="minmax">
    <x-knob min="-1" max="1"></x-knob>
    <x-knob min="0"></x-knob>
    <x-knob max="2"></x-knob>
    <x-knob min="-0.3333" max="0.3333"></x-knob> Has support for <code>min</code> and <code>max</code> attributes.
    <output id="minmaxoutput"></output>
  </p>

  <p id="attrs"><input id="attrsdivisions" type="number" min="2" step="1" value="8" style="width: 4em"
      title="divisions">
    <x-knob id="attrsmin" value="-1" title="min"></x-knob>
    <x-knob id="attrsmax" value="1" title="max"></x-knob>
    <x-knob id="attrsvalue"></x-knob> All attributes (<code>divisions</code>, <code>min</code>, <code>max</code>,
    <code>svgsymbolid</code>, <code>value</code>) can be set using standard DOM methods (such as
    <code>setAttribute()</code>) or directly to the object. <x-knob id="attrsdom"></x-knob>
    <x-knob id="attrsdirect"></x-knob>
  </p>

  <p id="updatingvalue">
    <x-knob divisions="0"></x-knob>
    <x-knob divisions="2"></x-knob>
    <x-knob divisions="3"></x-knob>
    <x-knob divisions="4"></x-knob>
    <x-knob divisions="8"></x-knob>
    <x-knob divisions="16"></x-knob> Updating the <code>value</code> of a knob that is being rotated may cause drifting.
    <output id="updatingvalueoutput"></output>
  </p>

  <script type="text/javascript">

    var eventsdemo = document.getElementById('eventsdemo');
    eventsdemo.addEventListener('input', function (ev) {
      document.getElementById('oninputvalue').value = ev.target.value;
    });
    eventsdemo.addEventListener('change', function (ev) {
      document.getElementById('onchangevalue').value = ev.target.value;
    });


    var bubbling = document.getElementById('bubbling');  // This is the <p> element.
    var bubbling_handler = function (ev) {
      document.getElementById('bubblingoutput').value = ev.type + ' on ' + ev.target.dataset.name;
    };
    bubbling.addEventListener('input', bubbling_handler);
    bubbling.addEventListener('change', bubbling_handler);


    document.getElementById('snap').addEventListener('input', function (ev) {
      document.getElementById('snapoutput').value = Array.prototype.map.call(
        ev.currentTarget.querySelectorAll('x-knob'),
        function (x) {return x.value.toFixed(2);}
      ).join(' | ');
    });


    document.getElementById('minmax').addEventListener('input', function (ev) {
      document.getElementById('minmaxoutput').value = Array.prototype.map.call(
        ev.currentTarget.querySelectorAll('x-knob'),
        function (x) {return x.value.toFixed(2);}
      ).join(' | ');
    });


    document.getElementById('attrs').addEventListener('input', function (ev) {
      if (['attrsdivisions', 'attrsmin', 'attrsmax', 'attrsvalue'].indexOf(ev.target.id) > -1) {
        var attr = ev.target.id.replace('attrs', '');
        document.getElementById('attrsdom').setAttribute(attr, ev.target.value);
        document.getElementById('attrsdirect')[attr] = ev.target.value;
      }
    });


    document.getElementById('updatingvalue').addEventListener('input', function (ev) {
      // Since .value has a setter function, the following line may cause side-effects.
      ev.target.value = ev.target.value;
      document.getElementById('updatingvalueoutput').value = Array.prototype.map.call(
        ev.currentTarget.querySelectorAll('x-knob'),
        function (x) {return x.value.toFixed(2);}
      ).join(' | ');
    });

  </script>

    <!-- Scripts -->
  <script src="js/xknob.js" type="text/javascript" async></script>
  <script src="js/main.js" type="text/javascript" async></script>
  <!-- <script src="js/webcomponent.js" type="text/javascript"></script> -->

</body>

</html>
